<div id="page_content" style="overflow: hidden !important;">
  <loadpage view="vm.pruebareport"></loadpage>
  <div id="page_content_inner">
    <div class="uk-grid" style="height: 100%">
      <div class="uk-width-1-1" style="height: 100%">
        <div class="md-card" data-uk-grid-margin style="height: 100%">
          <div class="md-card-content" style="height: 100%">
            <ul class="uk-tab" data-uk-tab="{connect:'#tabs_filter', animation:'scale',swiping: false}">
              <li class="uk-active" ng-click="vm.tabActive = 1; vm.changeReport()"><a>{{'0317' | translate}}</a></li>
              <li ng-click="vm.tabActive = 2;vm.itemcomment=1;vm.changeReport()"><a href="#">{{'0318' | translate}}</a>
              </li>
              <li ng-click="vm.tabActive = 3;"><a href="#">{{'1842' | translate}}</a></li>
              <li ng-click="vm.tabActive = 4;"><a href="#">{{'1836' | translate}}</a></li>
            </ul>
            <ul id="tabs_filter" class="uk-switcher uk-margin" style="height: calc(100% - 140px); overflow: auto">
              <li>
                <div class="uk-grid" ng-if="vm.tabActive === 1">
                  <div class="uk-width-1-1">
                    <fieldset class="fieldset ">
                      <orderfilter rangeinit="vm.rangeInit" rangeend="vm.rangeEnd" typefilter="vm.filterRange"
                        isopenreport="vm.isOpenReport" typelabel='2'>
                      </orderfilter>
                    </fieldset>
                  </div>
                </div>
                <div class="uk-grid" style="margin-top: 3px">
                  <div class="uk-width-1-5">
                    <fieldset class="fieldset ">
                      <legend>{{'0088' | translate}}: </legend>
                      <div class="uk-grid" style="margin-top: -10px">
                        <div class="uk-width-1-1">
                          <select md-input class="md-input"
                            ng-options="obj as obj.name for obj in vm.listordertype track by obj.id"
                            data-ng-model="vm.itemordertype" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-3-5">
                    <fieldset class="fieldset">
                      <legend>{{'0317' | translate}} {{'0263' | translate}}:</legend>
                      <div class="uk-grid" style="margin-top: 4px">
                        <div class="uk-width-1-1">
                          <isteven-multi-select input-model="vm.modernBrowsers" output-model="vm.outputBrowsers"
                            button-label="icon name" item-label="icon name maker" tick-property="ticked">
                          </isteven-multi-select>
                        </div>
                      </div>
                    </fieldset>
                  </div>

                  <div class="uk-width-1-5">
                    <fieldset class="fieldset ">
                      <legend>{{'0319' | translate}}: </legend>
                      <div class="uk-grid">
                        <div class="uk-width-1-1" style="margin-top : -10px">
                          <select md-input class="md-input" ng-options="obj.id as obj.name for obj in vm.listcomment1"
                            data-ng-model="vm.itemcomment" ng-change="vm.changeReport()" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                </div>
                <div class="uk-grid" ng-if="vm.tabActive === 1" style="margin-top: 3px">
                  <div class="uk-width-1-1">
                    <filterareatest confidential="vm.confidential" numfilterareatest="vm.numFilterAreaTest"
                      listareas="vm.listAreas" listtests="vm.listTests" numlist="vm.numlist">
                    </filterareatest>
                  </div>
                  <div class="uk-width-1-1">
                    <filterdemographic id="'filterDemographics'" excludetypeorder="true" demographic="vm.demographics">
                    </filterdemographic>
                  </div>
                </div>
                <div class="uk-width-1-1" style="margin-top: 10px;margin-left: 31px;">
                  <md-checkbox class="md-primary" ng-model="vm.groupProfiles" aria-label="Agrupar por perfiles">
                    Agrupar por perfiles
                  </md-checkbox>
                </div>
              </li>
              <li>
                <div class="uk-grid uk-grid-small" style="height: 100%; margin-top: 3px" ng-if="vm.tabActive === 2">
                  <div class="uk-width-8-10">
                    <fieldset class="fieldset ">
                      <orderfilter rangeinit="vm.rangeInit" rangeend="vm.rangeEnd" typefilter="vm.filterRange"
                        isopenreport="vm.isOpenReport">
                      </orderfilter>
                    </fieldset>
                  </div>
                  <div class="uk-width-2-10">
                    <fieldset class="fieldset" style="height: 63px;margin-top: 0px;padding-top: 0 px">
                      <legend>{{'0429' | translate}}: </legend>
                      <div class="uk-grid" style="margin-top: -6px">
                        <div class="uk-width-1-1">
                          <select md-input class="md-input"
                            ng-options="obj as obj.name for obj in vm.listlaboratory track by obj.id"
                            data-ng-model="vm.laboratoryid" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-2-10" style="width: 17%">
                    <fieldset class="fieldset">
                      <legend>{{'0088' | translate}}: </legend>
                      <div class="uk-grid" style="margin-top: -6px">
                        <div class="uk-width-1-1">
                          <select md-input class="md-input"
                            ng-options="obj as obj.name for obj in vm.listordertype track by obj.id"
                            data-ng-model="vm.itemordertype" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-4-10" style="padding-left: 10px">
                    <fieldset class="fieldset">
                      <legend>{{'0364' | translate}}:</legend>
                      <div class="uk-grid" style="margin-top: 4px">
                        <div class="uk-width-1-1">
                          <isteven-multi-select input-model="vm.modernBrowsers" output-model="vm.outputBrowsers"
                            button-label="icon name" item-label="icon name maker" tick-property="ticked">
                          </isteven-multi-select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-2-10" style="padding-left: 10px; width: 26%">
                    <fieldset class="fieldset ">
                      <legend>{{'0319' | translate}}: </legend>
                      <div class="uk-grid">
                        <div class="uk-width-1-2" style="margin-top : -6px">
                          <select md-input class="md-input" ng-options="obj.id as obj.name for obj in vm.listtype"
                            data-ng-model="vm.typereport" class="form-control"
                            ng-change="vm.changeTypeReport()"></select>
                        </div>
                        <div class="uk-width-1-2" style="margin-top : -6px" ng-if="vm.typereport === 2">
                          <select md-input class="md-input" ng-options="obj.id as obj.name for obj in vm.listcomment"
                            data-ng-model="vm.itemcomment" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-2-10" style="padding-left: 10px; width: 17%">
                    <fieldset class="fieldset ">
                      <legend>{{'0027' | translate}}: </legend>
                      <div class="uk-grid">
                        <div class="uk-width-1-1" style="margin-top : -6px">
                          <select md-input class="md-input"
                            ng-options="obj.id as obj.name for obj in vm.listResultstate"
                            data-ng-model="vm.Resultfilter" class="form-control"
                            ng-disabled="vm.typereport === 1"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>
                  <div class="uk-width-1-1" style="margin-top: 10px;margin-left: 31px;">
                    <md-checkbox class="md-primary" ng-model="vm.groupProfiles" aria-label="Agrupar por perfiles">
                      Agrupar por perfiles
                    </md-checkbox>
                  </div>
                </div>



                <div class="uk-grid" ng-if="vm.tabActive === 2">
                  <div class="uk-width-1-1">
                    <filterareatest confidential="vm.confidential" numfilterareatest="vm.numFilterAreaTest"
                      listareas="vm.listAreas" listtests="vm.listTests" numlist="vm.numlist">
                    </filterareatest>
                  </div>
                  <div class="uk-width-1-1">
                    <filterdemographic id="'filterDemographics'" excludetypeorder="true" demographic="vm.demographics">
                    </filterdemographic>
                  </div>
                </div>
              </li>


              <li>
                <div class="uk-grid" style="height: 100%; margin-top: 3px" ng-if="vm.tabActive === 3">
                  <div class="uk-width-8-1" style="width: 83%">
                    <fieldset class="fieldset ">
                      <orderfilter rangeinit="vm.rangeInit" rangeend="vm.rangeEnd" typefilter="vm.filterRange"
                        isopenreport="vm.isOpenReport">
                      </orderfilter>
                    </fieldset>
                  </div>


                  <div class="uk-width-2-10" style="width: 17%">
                    <fieldset class="fieldset" style="margin-top: 0px;">
                      <legend>{{'0680' | translate}}: </legend>
                      <div class="uk-grid" style="margin-top: -6px">
                        <div class="uk-width-1-1">
                          <select md-input class="md-input"
                            ng-options="obj as obj.name for obj in vm.listypepanic track by obj.id"
                            data-ng-model="vm.typepanic" class="form-control"></select>
                        </div>
                      </div>
                    </fieldset>
                  </div>

                </div>

                <div class="uk-grid" ng-if="vm.tabActive === 3">
                  <div class="uk-width-1-1">
                    <filterareatest confidential="vm.confidential" numfilterareatest="vm.numFilterAreaTest"
                      listareas="vm.listAreas" listtests="vm.listTests" numlist="vm.numlist">
                    </filterareatest>
                  </div>
                  <div class="uk-width-1-1">
                    <filterdemographic id="'filterDemographics'" excludetypeorder="true" demographic="vm.demographics">
                    </filterdemographic>
                  </div>
                </div>
              </li>

              <!-- Valores criticos -->
              <li>
                <div class="uk-grid" style="height: 100%; margin-top: 3px" ng-if="vm.tabActive === 4">
                  <div class="uk-width--1">
                    <fieldset class="fieldset ">
                      <orderfilter rangeinit="vm.rangeInit" rangeend="vm.rangeEnd" typefilter="vm.filterRange"
                        isopenreport="vm.isOpenReport">
                      </orderfilter>
                    </fieldset>
                  </div>
                </div>
                <div class="uk-grid" ng-if="vm.tabActive === 4">
                  <div class="uk-width-1-1">
                    <filterareatest confidential="vm.confidential" numfilterareatest="vm.numFilterAreaTest"
                      listareas="vm.listAreas" listtests="vm.listTests" numlist="vm.numlist">
                    </filterareatest>
                  </div>
                  <div class="uk-width-1-1">
                    <filterdemographic id="'filterDemographics'" excludetypeorder="true" demographic="vm.demographics">
                    </filterdemographic>
                  </div>
                </div>
              </li>
            </ul>
            <div class="uk-width-1-1">
              <button style="float: right; margin-left: 5px" type="button" class="md-fab md-fab-small md-bg-red-A700"
                ng-click="vm.pruebareport = true; vm.printReport('pdf')"
                ng-disabled="vm.outputBrowsers.length === 0 || vm.isOpenReport === false || vm.numlist === 0"
                ng-class="{'md-bg-blue-grey-100' : vm.outputBrowsers.length === 0 || vm.isOpenReport === false || vm.numlist === 0}">
                <i class="uk-icon-file-pdf-o md-color-light-blue-50" data-uk-tooltip="{pos:'top'}"
                  title="Descargar pdf"></i>
              </button>
              <button style="float: right" type="button" class="md-fab md-fab-small md-bg-green-A700"
                ng-click="vm.pruebareport = true; vm.printReport('xls')"
                ng-disabled="vm.outputBrowsers.length === 0 || vm.isOpenReport === false || vm.numlist === 0"
                ng-class="{'md-bg-blue-grey-100' : vm.outputBrowsers.length === 0 || vm.isOpenReport === false || vm.numlist === 0}">
                <i class="uk-icon-file-excel-o md-color-light-blue-50" data-uk-tooltip="{pos:'top'}"
                  title="Descargar excel"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="modalReportError" class="uk-modal" aria-hidden="true"
  style="display: none; overflow-y: scroll; min-height: 300px">
  <div class="uk-modal-dialog">
    <div class="uk-overflow-container" style="margin-top: 0px; margin-bottom: 0px;">

      <div class="uk-grid uk-flex uk-flex-center uk-flex-middle">
        <div class="uk-width-1-5">
          <img class="img-responsive" src="images/iconinfo.png">
        </div>
        <div class="uk-width-4-5" style="padding-left: 0px; margin-left: -10px; ">
          <h5 class="uk-text-center">{{'0152' | translate}}</h5>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="modalprogress" class="uk-modal" data-uk-modal>
  <div class="uk-modal-dialog">
    <div class="uk-progress  uk-active" style="margin-bottom: 3px">
      <div class="uk-progress-bar" style="width: {{vm.porcent}}%;"></div>
    </div>
    <div class="uk-width-1-1 uk-text-center uk-text-bold uk-text-small">
      Generando reporte ....
    </div>
  </div>

</div>
<!-- common functions -->
<script src="assets/js/common.min.js"></script>
<!-- uikit functions -->
<script src="assets/js/uikit_custom.min.js"></script>
<!-- altair common functions/helpers -->
<script src="assets/js/altair_admin_common.js"></script>